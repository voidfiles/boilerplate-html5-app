<!doctype html>
<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>simplenote-js tests</title>
  <meta name="description" content="Tests for the JS SimpleNote API wrapper.">
  <meta name="author" content="Carlo Zottmann, carlo@zottmann.org">

  <link rel="stylesheet" href="http://github.com/jquery/qunit/raw/master/qunit/qunit.css">

  <style type="text/css">
    form label{display:inline-block;text-align:right;}
    form ul{list-style:none;margin:0.5em 0;}
    form ul li{margin:0 1em 0 0;display:inline-block;}
  </style>
</head>

<body>

  <h1 id="qunit-header">QUnit example</h1>
  <h2 id="qunit-banner"></h2>
  <h2 id="qunit-userAgent"></h2>
  <ol id="qunit-tests"></ol>
  <div id="qunit-fixture">test markup, will be hidden</div>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js" type="text/javascript"></script>
  <script src="http://documentcloud.github.com/underscore/underscore-min.js" type="text/javascript"></script>
  <script src="http://github.com/jquery/qunit/raw/master/qunit/qunit.js" type="text/javascript"></script>
  <script src="../src/simplenote.js" type="text/javascript"></script>

  <!-- simplenote-js requirement! -->
  <script src="http://github.com/carlo/jquery-base64/raw/master/jquery.base64.min.js" type="text/javascript"></script>

  <!-- simplenote-js testing requirement! -->
  <script src="../simplenote-fixtures.js" type="text/javascript"></script>
  
  <script type="text/javascript">

    $( document ).ready( function() {
      var testBatches = [ "authentication", "note_creation", "note_deletion", "note_retrieval", "note_updating", "notes_index", "notes_search", "misc" ],
        hash = document.location.hash.replace( /^#/, "" );
        
      if ( !window.FIXTURES ) {
        setTimeout( function() {
          $( "#qunit-tests" ).html( "<li class='fail'><strong>Fixtures file ../simplenote-fixtures.js wasn't loaded!  Exiting.</strong></li>" );
        }, 0 );
        return;
      }

      if ( !_.isEmpty( hash ) ) {
        testBatches = [ hash ];
      }
      
      _.each( testBatches, function( testBatch ) {
        $.ajax({ url: "./tests_" + testBatch + ".js", async: false, dataType: "script" });
      });
    });

  </script>
  
  
</body>
</html>